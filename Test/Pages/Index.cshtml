@page

@model IndexModel

@{
    ViewData["Title"] = "Home page";
}


<div id="score">Счёт: 0</div>
<canvas id="gameCanvas"></canvas>


@* @section Scripts{
    <script>
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");
        const scoreElement = document.getElementById("score");

        const box = 20;
        let score = 0;
        let gameSpeed = 150; 

        let snake = [{ x: 9 * box, y: 10 * box }];

        let food = {
            x: Math.floor(Math.random() * 20)*box,
            y: Math.floor(Math.random() * 20)*box,
        }

        let dir = null;

        function changeDirection(event) {
            if (event.key === "ArrowUp" && dir !== "DOWN") dir = "UP";
            else if (event.key === "ArrowDown" && dir !== "UP") dir = "DOWN";
            else if (event.key === "ArrowLeft" && dir !== "RIGHT") dir = "LEFT";
            else if (event.key === "ArrowRight" && dir !== "LEFT") dir = "RIGHT";

        }

        function isGameOver(){
            // Столкновение со стеной
            if (
                snake[0].x < 0 ||
                snake[0].x >= canvas.widh ||
                snake[0].y < 0 ||
                snake[0].y >= canvas.height
            ){
                return true;
            }

            // Столкновение с собой
            for (let i = 1; i < snake.length; i++) {
                if (snake[0].x === snake[i].x && snake[0].y === snake[i].y) {
                    return true;
                }
            }

            return false;
        }


        function gameLoop() {
            if (isGameOver()) {
                alert("Игра окончена! Счёт: " + score);
                document.location.reload();
                return;
            }


            ctx.fillStyle="#fff"
        }



    </script>
}
 *@